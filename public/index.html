<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No Fa$t | Store</title>
    
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.tailwindcss.com https://accounts.google.com https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com; img-src 'self' data: https://lh3.googleusercontent.com; connect-src 'self' https://accounts.google.com; frame-src https://accounts.google.com;">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <style>
        /* Desain & Keamanan CSS */
        body { 
            background: #050505; 
            color: white; 
            font-family: 'Inter', sans-serif; 
            user-select: none; /* Anti-Copy */
            -webkit-user-select: none;
            overflow-x: hidden;
        }

        .nav-glass { 
            background: rgba(0,0,0,0.8); 
            backdrop-filter: blur(12px); 
            border-bottom: 1px solid rgba(255,255,255,0.1); 
        }

        .btn-premium {
            background: linear-gradient(45deg, #1e40af, #3b82f6);
            transition: all 0.3s ease;
        }

        .btn-premium:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }

        .animate-fade { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(15px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
    </style>
</head>

<body oncontextmenu="return false;">
    <nav class="nav-glass sticky top-0 z-50 px-6 py-4 flex justify-between items-center">
        <div class="text-2xl font-black italic cursor-pointer tracking-tighter" onclick="loadPage('beranda')">
            NO <span class="text-blue-500">FA$T</span>
        </div>
        
        <div class="flex items-center gap-6">
            <button onclick="loadPage('katalog')" class="text-[11px] font-bold uppercase tracking-[0.2em] hover:text-blue-400 transition">
                Katalog
            </button>
            
            <div id="auth-box">
                <div id="g_id_onload"
                    data-client_id="502358231350-pr4t7jj775ckcu64n8stfeq6qkesjr15.apps.googleusercontent.com"
                    data-callback="handleCredentialResponse"
                    data-auto_prompt="false">
                </div>
                <div class="g_id_signin" 
                    data-type="standard" 
                    data-shape="pill" 
                    data-theme="filled_black" 
                    data-text="signin_with" 
                    data-size="medium" 
                    data-logo_alignment="left">
                </div>
            </div>
        </div>
    </nav>

    <main id="content" class="max-w-7xl mx-auto p-6 min-h-screen"></main>

    <footer class="p-10 border-t border-white/5 text-center text-gray-600 text-xs">
        &copy; 2026 NO FA$T STORE. All Rights Reserved.
    </footer>

    <script>
        // 1. KEAMANAN: Anti-Inspect Element
        document.onkeydown = function(e) {
            // Blokir F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U
            if(e.keyCode == 123 || 
              (e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74 || e.keyCode == 67)) || 
              (e.ctrlKey && e.keyCode == 85)) {
                return false;
            }
        };

        // 2. HANDLE LOGIN GOOGLE
        function handleCredentialResponse(response) {
            // Decode data user dari Google
            const payload = JSON.parse(atob(response.credential.split('.')[1]));
            localStorage.setItem('user_nofast', JSON.stringify(payload));
            renderUser(payload);
        }

        // 3. TAMPILKAN USER SETELAH LOGIN
        function renderUser(user) {
            document.getElementById('auth-box').innerHTML = `
                <div class="flex items-center gap-3 bg-white/5 p-1 pr-4 rounded-full border border-white/10">
                    <img src="${user.picture}" class="w-8 h-8 rounded-full border border-blue-500/50 shadow-lg" alt="profile">
                    <div class="flex flex-col">
                        <span class="text-[10px] font-black uppercase tracking-tight">${user.given_name}</span>
                        <button onclick="logout()" class="text-[9px] text-red-500 hover:text-red-400 text-left uppercase font-bold">Logout</button>
                    </div>
                </div>`;
        }

        // 4. LOGOUT
        function logout() {
            localStorage.removeItem('user_nofast');
            location.reload();
        }

        // 5. LOAD HALAMAN DINAMIS (SPA)
        async function loadPage(page) {
            const contentDiv = document.getElementById('content');
            try {
                const res = await fetch(`pages/${page}.html`);
                if (!res.ok) throw new Error('Not Found');
                
                const html = await res.text();
                contentDiv.innerHTML = `<div class="animate-fade">${html}</div>`;
                
                // Aktifkan script yang ada di halaman tujuan
                const scripts = contentDiv.querySelectorAll('script');
                scripts.forEach(oldScript => {
                    const newScript = document.createElement("script");
                    newScript.text = oldScript.innerText;
                    document.body.appendChild(newScript).parentNode.removeChild(newScript);
                });
            } catch (e) { 
                contentDiv.innerHTML = `
                    <div class="flex flex-col items-center justify-center mt-20 opacity-20">
                        <i class="fas fa-folder-open text-6xl mb-4"></i>
                        <p class="font-bold uppercase tracking-widest">Halaman ${page}.html Tidak Ditemukan</p>
                    </div>`;
            }
        }

        // 6. JALANKAN SAAT WEBSITE DIBUKA
        window.onload = () => {
            const savedUser = localStorage.getItem('user_nofast');
            if (savedUser) {
                renderUser(JSON.parse(savedUser));
            }
            // Langsung buka beranda.html
            loadPage('beranda');
        };
    </script>
</body>
</html>

